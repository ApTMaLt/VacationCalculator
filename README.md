# Vacation Calculator

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –†–§. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—É–º–º—É –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏ –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö –¥–Ω–µ–π.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π REST API —Å–µ—Ä–≤–∏—Å, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ **Spring Boot**. –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã –æ—Ç–ø—É—Å–∫–Ω—ã—Ö —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ö –†–§. –°–µ—Ä–≤–∏—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
1.  **–ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –¥–Ω–µ–π:** –†–∞—Å—á–µ—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π.
2.  **–ü–æ –¥–∞—Ç–∞–º:** –†–∞—Å—á–µ—Ç –Ω–∞ –ø–µ—Ä–∏–æ–¥ –æ—Ç–ø—É—Å–∫–∞ —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω–µ–π (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º API).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–†–∞—Å—á–µ—Ç –æ—Ç–ø—É—Å–∫–Ω—ã—Ö:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã —Å–æ —Å—Ä–µ–¥–Ω–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ (29.3).
*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω—è—Ö —á–µ—Ä–µ–∑ API `isdayoff.ru`.
*   **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∑–∞—Ä–ø–ª–∞—Ç–∞, –¥–∞—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π) –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞.
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ API –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON-–æ—Ç–≤–µ—Ç–∞.
*   **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è –∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (JUnit 5 + Mockito).

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

*   **Java:** 21+ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ Java, Spring Boot 4.0.2)
*   **Framework:** Spring Boot 4.0.2
*   **Build Tool:** Maven / Gradle
*   **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    *   `Lombok` (–¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞)
    *   `Spring Web` (REST Controller, RestTemplate)
    *   `Spring Validation` (Jakarta Validation API)
    *   `SpringDoc OpenAPI` (Swagger UI) (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API)
    *   `JUnit 5`, `Mockito`, `AssertJ` (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
*   **–í–Ω–µ—à–Ω–∏–µ API:** `isdayoff.ru` (–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å)

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

*   **`controller`**: `VacationController` ‚Äî –ø—Ä–∏–µ–º HTTP –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   **`service`**: `VacationPayService` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π.
*   **`integration`**: `IsDayOffClient` ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π, –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.
*   **`model`**: DTO –∫–ª–∞—Å—Å—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ (`VacationRequest`) –∏ –æ—Ç–≤–µ—Ç–∞ (`VacationResponse`).
*   **`exception`**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (`GlobalExceptionHandler`).
*   **`config`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∏–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `RestTemplate`).


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   JDK 21 –∏–ª–∏ –≤—ã—à–µ
*   Gradle 8.5+
*   (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker –∏ Docker Compose

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Gradle

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone <url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd VacationCalculator
    ```

2.  –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
    ```bash
    gradle clean build
    ```

3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
    ```bash
    gradle bootRun
    # –∏–ª–∏
    java -jar build/libs/VacationCalculator-*.jar
    ```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **Dockerfile** —Å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–æ–π:

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t vacation-calculator .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:8080 vacation-calculator
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Docker-–æ–±—Ä–∞–∑–∞:**
| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **Multi-stage build** | –°–±–æ—Ä–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ —Å Gradle, –∑–∞–ø—É—Å–∫ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º JRE-–æ–±—Ä–∞–∑–µ |
| **Alpine Linux** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ |
| **Non-root user** | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `appuser` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| **JVM tuning** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `JAVA_OPTS` |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –∑–∞ —Å—á–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Gradle-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ JVM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
docker run -p 8080:8080 -e JAVA_OPTS="-Xms512m -Xmx1g" vacation-calculator
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (–ø—Ä–∏–º–µ—Ä)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`:

```yaml
version: '3.8'
services:
  vacation-calculator:
    build: .
    ports:
      - "8080:8080"
    environment:
      - JAVA_OPTS=-Xms512m -Xmx512m
    restart: unless-stopped
```

–ó–∞–ø—É—Å–∫:
```bash
docker-compose up -d
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Swagger UI. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –∏–∑—É—á–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.
Swagger UI: `http://localhost:8080/swagger-ui.html`
OpenAPI JSON: `http://localhost:8080/v3/api-docs`

## üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –†–∞—Å—á–µ—Ç –æ—Ç–ø—É—Å–∫–Ω—ã—Ö

**Endpoint:** `GET /api/calculate`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (Query Params):**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| `averageSalary` | BigDecimal | –î–∞ | –°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0) |
| `vacationDays` | Integer | –î–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 1) |
| `vacationDateStart` | LocalDate | –ù–µ—Ç | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–ø—É—Å–∫–∞ (ISO_DATE) |
| `vacationDateEnd` | LocalDate | –ù–µ—Ç | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞ (ISO_DATE) |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –¥–∞—Ç—ã (`vacationDateStart` –∏ `vacationDateEnd`), —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö –¥–Ω–µ–π –≤ —ç—Ç–æ–º –ø–µ—Ä–∏–æ–¥–µ (–∏—Å–∫–ª—é—á–∞—è –ø—Ä–∞–∑–¥–Ω–∏–∫–∏). –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `vacationDays` –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥—É –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ –¥–Ω—è–º):**
```http
GET /api/calculate?averageSalary=100000&vacationDays=14
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ –¥–∞—Ç–∞–º):**
```http
GET /api/calculate?averageSalary=100000&vacationDays=14&vacationDateStart=2024-06-01&vacationDateEnd=2024-06-14
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (200 OK):**
```json
{
  "vacationPay": 47781.57
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ (400 Bad Request):**
```json
{
  "timestamp": "2024-06-20T10:00:00",
  "status": 400,
  "message": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
  "errors": "Bad Request",
  "validationErrors": {
    "averageSalary": "–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0"
  }
}
```

## üßÆ –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞

1.  **–°—Ä–µ–¥–Ω–∏–π –¥–Ω–µ–≤–Ω–æ–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫:**
    ```
    –°—Ä–µ–¥–Ω–∏–π–î–Ω–µ–≤–Ω–æ–π–ó–∞—Ä–∞–±–æ—Ç–æ–∫ = –°—Ä–µ–¥–Ω—è—è–ó–∞—Ä–ø–ª–∞—Ç–∞ / 29.3
    ```
    *(29.3 ‚Äî —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–µ —á–∏—Å–ª–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π)*

2.  **–û–ø—Ä–µ–¥–µ–ª—è–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π:**
    *   –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `vacationDays`.
    *   –ï—Å–ª–∏ –¥–∞—Ç—ã —É–∫–∞–∑–∞–Ω—ã: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É `isdayoff.ru`. –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã–µ –¥–Ω–∏ (—Ä–∞–±–æ—á–∏–µ, –≤—ã—Ö–æ–¥–Ω—ã–µ, —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ). –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è.

3.  **–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:**
    ```
    –°—É–º–º–∞–û—Ç–ø—É—Å–∫–Ω—ã—Ö = –°—Ä–µ–¥–Ω–∏–π–î–Ω–µ–≤–Ω–æ–π–ó–∞—Ä–∞–±–æ—Ç–æ–∫ * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö–î–Ω–µ–π
    ```
    *(–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π, HALF_UP)*

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç unit-—Ç–µ—Å—Ç–∞–º–∏. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
mvn test
# –∏–ª–∏
gradle test
```

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Ç–µ—Å—Ç–æ–≤:
*   `VacationPayServiceTest` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
*   `IsDayOffClientTest` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º API, –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

*   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ –∫ –≤–Ω–µ—à–Ω–µ–º—É API –∫–∞–ª–µ–Ω–¥–∞—Ä—è ‚Äî **366 –¥–Ω–µ–π**.
*   –û—Ç–ø—É—Å–∫ –Ω–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π (—Å—É–º–º–∞ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0).
*   –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `isdayoff.ru`).










# Vacation Calculator

–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –†–§. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—É–º–º—É –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏ –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö –¥–Ω–µ–π.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π REST API —Å–µ—Ä–≤–∏—Å, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –Ω–∞ **Spring Boot**. –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º—ã –æ—Ç–ø—É—Å–∫–Ω—ã—Ö —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ö –†–§. –°–µ—Ä–≤–∏—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
1.  **–ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –¥–Ω–µ–π:** –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π.
2.  **–ü–æ –¥–∞—Ç–∞–º:** –†–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–∏–æ–¥–∞ –æ—Ç–ø—É—Å–∫–∞ —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω–µ–π (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º API).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–†–∞—Å—á–µ—Ç –æ—Ç–ø—É—Å–∫–Ω—ã—Ö:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã —Å–æ —Å—Ä–µ–¥–Ω–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ (29.3).
*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–Ω—è—Ö —á–µ—Ä–µ–∑ API `isdayoff.ru`.
*   **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∑–∞—Ä–ø–ª–∞—Ç–∞, –¥–∞—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π) –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞.
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ API –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON-–æ—Ç–≤–µ—Ç–∞.
*   **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** Unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è –∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (JUnit 5 + Mockito).
*   **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Swagger UI.
*   **Docker-–ø–æ–¥–¥–µ—Ä–∂–∫–∞:** –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π —Ä–∞–∑–º–µ—Ä–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é (–∑–∞–ø—É—Å–∫ –æ—Ç non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

*   **Java:** 21 (Spring Boot 3.x)
*   **Framework:** Spring Boot 3
*   **Build Tool:** Gradle 8.5
*   **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    *   `Lombok` (–¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞)
    *   `Spring Web` (REST Controller, RestTemplate)
    *   `Spring Validation` (Jakarta Validation API)
    *   `SpringDoc OpenAPI (Swagger UI)` (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API)
    *   `JUnit 5`, `Mockito`, `AssertJ` (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
*   **–í–Ω–µ—à–Ω–∏–µ API:** `isdayoff.ru` (–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker (multi-stage build, Alpine Linux, Eclipse Temurin JRE)

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

*   **`controller`**: `VacationController` ‚Äî –ø—Ä–∏–µ–º HTTP –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   **`service`**: `VacationPayService` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–æ–º –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π.
*   **`integration`**: `IsDayOffClient` ‚Äî –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π, –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.
*   **`model`**: DTO –∫–ª–∞—Å—Å—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ (`VacationRequest`) –∏ –æ—Ç–≤–µ—Ç–∞ (`VacationResponse`).
*   **`exception`**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (`GlobalExceptionHandler`).
*   **`config`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∏–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `RestTemplate`, Swagger).

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   JDK 21 –∏–ª–∏ –≤—ã—à–µ
*   Gradle 8.5+
*   (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker –∏ Docker Compose

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Gradle

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone <url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd VacationCalculator
    ```

2.  –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
    ```bash
    gradle clean build
    ```

3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
    ```bash
    gradle bootRun
    # –∏–ª–∏
    java -jar build/libs/VacationCalculator-*.jar
    ```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **Dockerfile** —Å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–æ–π:

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t vacation-calculator .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:8080 vacation-calculator
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Docker-–æ–±—Ä–∞–∑–∞:**
| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **Multi-stage build** | –°–±–æ—Ä–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ —Å Gradle, –∑–∞–ø—É—Å–∫ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º JRE-–æ–±—Ä–∞–∑–µ |
| **Alpine Linux** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ |
| **Non-root user** | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `appuser` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| **JVM tuning** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `JAVA_OPTS` |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –∑–∞ —Å—á–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Gradle-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ JVM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
docker run -p 8080:8080 -e JAVA_OPTS="-Xms512m -Xmx1g" vacation-calculator
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (–ø—Ä–∏–º–µ—Ä)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yml`:

```yaml
version: '3.8'
services:
  vacation-calculator:
    build: .
    ports:
      - "8080:8080"
    environment:
      - JAVA_OPTS=-Xms512m -Xmx512m
    restart: unless-stopped
```

–ó–∞–ø—É—Å–∫:
```bash
docker-compose up -d
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Swagger UI**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ –∏–∑—É—á–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.

*   **Swagger UI:** `http://localhost:8080/swagger-ui.html`
*   **OpenAPI JSON:** `http://localhost:8080/v3/api-docs`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ª–∏—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `springdoc-openapi-starter-webmvc-ui` –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –†–∞—Å—á–µ—Ç –æ—Ç–ø—É—Å–∫–Ω—ã—Ö

**Endpoint:** `GET /api/calculate`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (Query Params):**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- | :--- |
| `averageSalary` | BigDecimal | –î–∞ | –°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0) |
| `vacationDays` | Integer | –î–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –æ—Ç–ø—É—Å–∫–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 1) |
| `vacationDateStart` | LocalDate | –ù–µ—Ç | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–ø—É—Å–∫–∞ (ISO_DATE) |
| `vacationDateEnd` | LocalDate | –ù–µ—Ç | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞ (ISO_DATE) |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –¥–∞—Ç—ã (`vacationDateStart` –∏ `vacationDateEnd`), —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö –¥–Ω–µ–π –≤ —ç—Ç–æ–º –ø–µ—Ä–∏–æ–¥–µ (–∏—Å–∫–ª—é—á–∞—è –ø—Ä–∞–∑–¥–Ω–∏–∫–∏). –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `vacationDays` –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥—É –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ –¥–Ω—è–º):**
```http
GET /api/calculate?averageSalary=100000&vacationDays=14
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ –¥–∞—Ç–∞–º):**
```http
GET /api/calculate?averageSalary=100000&vacationDays=14&vacationDateStart=2024-06-01&vacationDateEnd=2024-06-14
```

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (200 OK):**
```json
{
  "vacationPay": 47781.57
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ (400 Bad Request):**
```json
{
  "timestamp": "2024-06-20T10:00:00",
  "status": 400,
  "message": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
  "errors": "Bad Request",
  "validationErrors": {
    "averageSalary": "–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0"
  }
}
```

## üßÆ –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞

1.  **–°—Ä–µ–¥–Ω–∏–π –¥–Ω–µ–≤–Ω–æ–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫:**
    ```
    –°—Ä–µ–¥–Ω–∏–π–î–Ω–µ–≤–Ω–æ–π–ó–∞—Ä–∞–±–æ—Ç–æ–∫ = –°—Ä–µ–¥–Ω—è—è–ó–∞—Ä–ø–ª–∞—Ç–∞ / 29.3
    ```
    *(29.3 ‚Äî —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–µ —á–∏—Å–ª–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π)*

2.  **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π:**
    *   –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `vacationDays`.
    *   –ï—Å–ª–∏ –¥–∞—Ç—ã —É–∫–∞–∑–∞–Ω—ã: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É `isdayoff.ru`. –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–ø–ª–∞—á–∏–≤–∞–µ–º—ã–µ –¥–Ω–∏ (—Ä–∞–±–æ—á–∏–µ, –≤—ã—Ö–æ–¥–Ω—ã–µ, —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ). –ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è.

3.  **–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:**
    ```
    –°—É–º–º–∞–û—Ç–ø—É—Å–∫–Ω—ã—Ö = –°—Ä–µ–¥–Ω–∏–π–î–Ω–µ–≤–Ω–æ–π–ó–∞—Ä–∞–±–æ—Ç–æ–∫ √ó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û–ø–ª–∞—á–∏–≤–∞–µ–º—ã—Ö–î–Ω–µ–π
    ```
    *(–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π, RoundingMode.HALF_UP)*

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç unit-—Ç–µ—Å—Ç–∞–º–∏. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
gradle test
```

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Ç–µ—Å—Ç–æ–≤:
*   `VacationPayServiceTest` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
*   `IsDayOffClientTest` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º API, –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

*   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ –∫ –≤–Ω–µ—à–Ω–µ–º—É API –∫–∞–ª–µ–Ω–¥–∞—Ä—è ‚Äî **366 –¥–Ω–µ–π**.
*   –û—Ç–ø—É—Å–∫ –Ω–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π (—Å—É–º–º–∞ –æ—Ç–ø—É—Å–∫–Ω—ã—Ö –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0).
*   –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `isdayoff.ru`).

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ `LICENSE`.